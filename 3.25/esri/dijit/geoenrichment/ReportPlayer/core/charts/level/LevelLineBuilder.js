// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.25/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/charts/level/LevelLineBuilder","dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-style ../utils/ChartTypes esri/dijit/geoenrichment/utils/DomUtil".split(" "),function(n,p,c,q,d,g,f){return n(null,{lineContainerNode:null,_levelLineDiv:null,constructor:function(a){p.mixin(this,a)},supportsLevelLine:function(a){return a===g.COLUMN||a===g.BAR||a===g.LINE},showLevelLine:function(a,b,r,h,c){a=a.calculateGeometry();b=f.position(b);
var k=f.position(a.node),l=d.get(a.node,"width"),m=d.get(a.node,"height"),e=f.position(this.lineContainerNode);this._updateLine(h);h?d.set(this._levelLineDiv,{left:k.x-e.x+a.offsets.l+"px",width:l-a.offsets.l-a.offsets.r+"px"}):d.set(this._levelLineDiv,{top:k.y-e.y+a.offsets.t+"px",height:m-a.offsets.t-a.offsets.b+"px"});switch(r){case g.COLUMN:d.set(this._levelLineDiv,{top:(c?b.y+b.h-e.y:b.y-e.y-1)+"px"});break;case g.BAR:d.set(this._levelLineDiv,{left:(c?b.x-e.x:b.x+b.w-e.x)+"px"});break;case g.LINE:h?
d.set(this._levelLineDiv,{top:b.y+b.h/2-e.y-1+"px"}):d.set(this._levelLineDiv,{left:b.x+.5*b.w-e.x+"px"})}this._checkLineOutOfSight(h,l,m)},hideLevelLine:function(){f.hide(this._levelLineDiv)},_updateLine:function(a,b){this._levelLineDiv||(this._levelLineDiv=q.create("div",null,this.lineContainerNode));c.remove(this._levelLineDiv,"esriGEReportPlayer_chartContainerLevelLineH esriGEReportPlayer_chartContainerLevelLineV");a?c.add(this._levelLineDiv,"esriGEReportPlayer_chartContainerLevelLineH"):c.add(this._levelLineDiv,
"esriGEReportPlayer_chartContainerLevelLineV");f.show(this._levelLineDiv);d.set(this._levelLineDiv,{left:"",top:"",width:"",height:""})},_checkLineOutOfSight:function(a,b,c){a?(b=d.get(this._levelLineDiv,"top"),f[0>b||b>c?"hide":"show"](this._levelLineDiv)):(c=d.get(this._levelLineDiv,"left"),f[0>c||c>b?"hide":"show"](this._levelLineDiv))}})});