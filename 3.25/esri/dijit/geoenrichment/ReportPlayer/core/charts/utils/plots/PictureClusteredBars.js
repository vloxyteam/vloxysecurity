// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.25/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/charts/utils/plots/PictureClusteredBars","dojo/_base/Color dojo/_base/declare dojo/_base/lang dojox/gfx dojox/gfx/utils ./_ClusteredBarsBase ./pictureUtil/Converter ../../../supportClasses/images/ImageDataHolder".split(" "),function(w,h,x,t,y,q,u,z){return h("dojox.charting.plot2d.Bars",q,{_drawBar:function(k,c,d,a,m,e,f){return this._drawBarPictures(k,c.icon||u.DEFAULT_SHAPE,c.bgIcon,d,a,m,e,f,!c.icon)},_drawBarPictures:function(k,c,d,a,m,e,f,h,
q){function v(a,g){var f=x.mixin({},g),b=a.shapeJson||a.imageJson;a=!!a.shapeJson;if(b){for(var c=g.height/b.style.height,l=b.style.width*c,d=Math[m.series.showWholePictures&&!q?"floor":"ceil"](g.width/l),e=0;e<d;e++){var n=r.createGroup();if(a){var p=u.shapeJsonToGFXJson(b);try{y.deserialize(n,p)}catch(A){console.log(A)}}else n.createImage({x:0,y:0,width:b.style.width,height:b.style.height,src:z.getImageData(b.fileName)});e===d-1&&n.setClip({x:0,y:0,width:(l-(d*l-g.width))/c,height:b.style.height});
var p=g.x+e*l,h=g.y,k=c;b.style.zoom&&(p-=l*(b.style.zoom-1)/2,h-=g.height*(b.style.zoom-1)/2,k*=b.style.zoom);n.applyTransform(t.matrix.translate(p,h));n.applyTransform(t.matrix.scale(k))}m.series.showWholePictures&&(f.width=d*l);return f}}var r=k.createGroup();this.createRect(h,r,{x:a.x,y:a.y,width:e.width-f.l-f.r,height:a.height}).setFill(new w([0,0,0,.01]));m.series.showColumnBarBackground&&d&&v(d,{x:a.x,y:a.y,height:a.height,width:e.width-f.l-f.r});a=v(c,a);return{shape:r,rect:a}}})});