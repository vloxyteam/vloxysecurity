// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.25/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/charts/utils/plots/PictureClusteredColumns","dojo/_base/Color dojo/_base/declare dojo/_base/lang dojox/gfx dojox/gfx/utils ./_ClusteredColumnsBase ./pictureUtil/Converter ../../../supportClasses/images/ImageDataHolder".split(" "),function(w,k,x,t,y,q,u,z){return k(q,{_drawColumn:function(l,d,e,a,n,f,b){return this._drawColumnPictures(l,d.icon||u.DEFAULT_SHAPE,d.bgIcon,e,a,n,f,b,!d.icon)},_drawColumnPictures:function(l,d,e,a,n,f,b,k,q){function v(a,
g){var b=x.mixin({},g),c=a.shapeJson||a.imageJson;a=!!a.shapeJson;if(c){for(var d=g.width/c.style.width,m=c.style.height*d,e=Math[n.series.showWholePictures&&!q?"floor":"ceil"](g.height/m),f=0;f<e;f++){var p=r.createGroup();if(a){var h=u.shapeJsonToGFXJson(c);try{y.deserialize(p,h)}catch(A){console.log(A)}}else p.createImage({x:0,y:0,width:c.style.width,height:c.style.height,src:z.getImageData(c.fileName)});f===e-1&&(h=(m-(e*m-g.height))/d,p.setClip({x:0,y:c.style.height-h,width:c.style.width,height:h}));
var h=g.x,k=g.y+g.height-(f+1)*m,l=d;c.style.zoom&&(h-=g.width*(c.style.zoom-1)/2,k-=m*(c.style.zoom-1)/2,l*=c.style.zoom);p.applyTransform(t.matrix.translate(h,k));p.applyTransform(t.matrix.scale(l))}n.series.showWholePictures&&(b.height=e*m,b.y+=g.height-b.height);return b}}var r=l.createGroup();this.createRect(k,r,{x:a.x,y:b.t,width:a.width,height:f.height-b.t-b.b}).setFill(new w([0,0,0,.01]));n.series.showColumnBarBackground&&e&&v(e,{x:a.x,y:b.t,height:f.height-b.t-b.b,width:a.width});a=v(d,a);
return{shape:r,rect:a}}})});