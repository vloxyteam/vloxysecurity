// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.25/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/infographics/AttachmentsInfographic","dojo/_base/declare dojo/_base/lang dojo/Deferred require dojo/dom-construct dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin esri/dijit/geoenrichment/_Invoke esri/dijit/geoenrichment/ImageNavigator".split(" "),function(e,f,g,h,q,d,k,l,m,n){function p(){return b?b:b={_loadLogo:function(){var a=new g;h(["../supportClasses/images/DefaultAttachment"],function(c){a.resolve(c)});return a.promise},getAttachments:function(){var a=
this;return[{description:"Esri headquarters in Redlands CA, summer time",getThumbnail:function(){return a._loadLogo()}},{description:"Sample image",getThumbnail:function(){return a._loadLogo()}},{description:"Sample image",getThumbnail:function(){return a._loadLogo()}}]}}}var b;return e([k,l,m],{templateString:"\x3cdiv data-dojo-attach-point\x3d'viewDiv'\x3e\x3c/div\x3e",viewModel:null,theme:null,imageNavigator:null,_currentInfographicJson:null,postCreate:function(){this.inherited(arguments);this.imageNavigator=
(new n({showNotes:!0,showThumbnails:!1,canEditNotes:!1,canRemoveNotes:!1})).placeAt(this.viewDiv);this.own(this.imageNavigator)},updateInfographic:function(a){var c=this;if(this.viewDiv){this._currentInfographicJson=a;var b=this.viewModel.getStaticInfographicDefaultStyles(this.theme);d.set(this.viewDiv,"backgroundColor",a.style.backgroundColor||b&&b.backgroundColor);this._resizeContent();["showNotes","showThumbnails"].forEach(function(b){void 0!==a[b]&&(c.imageNavigator[b]=a[b])});this.invoke("_doUpdateContent",
50)}},_doUpdateContent:function(){var a=this,b=this.viewModel.dynamicReportInfo?this.viewModel.dynamicReportInfo.attachmentsStore:p();this.imageNavigator.update(b,{useCircularMask:this._currentInfographicJson.useCircularMask,alwaysShowCaptions:this._currentInfographicJson.alwaysShowCaptions,scaleToCover:this._currentInfographicJson.scaleToCover,onContentLoadingStart:function(){a.onContentLoadingStart()},onContentLoadingEnd:function(){a.onContentLoadingEnd()}})},_resizeContent:function(){this.domNode&&
this.width&&(this._currentInfographicJson.style.width=this.width,this._currentInfographicJson.style.height=this.height,d.set(this.viewDiv,{width:this.width+"px",height:this.height+"px"}),this.imageNavigator.setHeight(this.height))},width:null,height:null,resize:function(a,b){void 0!==a&&(this.width=a,this.height=b);this.invoke("_resizeContent",50)},notifyShown:function(){},toJson:function(){return f.clone(this._currentInfographicJson)},getVisualState:function(){return{imageIndex:this.imageNavigator.getImageIndex()}},
setVisualState:function(a){a&&void 0!==a.imageIndex&&this.imageNavigator.setImageIndex(a.imageIndex)},onContentLoadingStart:function(){},onContentLoadingEnd:function(){}})});