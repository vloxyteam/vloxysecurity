// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.25/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/reportContainerGrid/utils/ZoomUtil",["dojo/_base/lang","dojo/dom-geometry","dojo/dom-style","dojo/sniff","esri/dijit/geoenrichment/utils/animation/Animator"],function(l,p,h,k,m){function n(a){if(a.__zoomInfo&&1!==a.__zoomInfo.scale){var b=a.__zoomInfo;b.isFitPageScale=b.scale===e._getFitPageScale(b.originalW,b.originalH,a);b.isFitPageWidthScale=b.scale===e._getFitPageWidthScale(b.originalW,a);return b}return a.__zoomInfo={scale:1,originalW:h.get(a.getScrollableContainer(),
"width"),originalH:h.get(a.getScrollableContainer(),"height"),isFitPageScale:!1,isFitPageWidthScale:!1}}function f(a,b,c,d){if(b){d=d||e.getZoomInfo(a).scale;var f=Math.max(.2,Math.min(10,b.scale))||1;a.__zoomInfo=b;a.__zoomAnimation&&a.__zoomAnimation.stop();c&&c.showAnimation?a.__zoomAnimation=m.animateProperty({duration:200,properties:{p:{start:d,end:f,easing:"linear"}},progressFunction:function(b,c,d){g(a,c,1===d)},endFunction:function(){delete a.__zoomAnimation}}):g(a,f,!0)}else a.__zoomInfo=
null,g(a,1,!0)}function g(a,b,c){var d=a.scalableContainer.style,e=1!==b?"0% 0%":"",f=1!==b?"scale("+b+")":"",g=k("webkit")?"webkitTransformOrigin":"transformOrigin",h=k("webkit")?"webkitTransform":"transform";d[g]=e;d[h]=f;a.__zoomInfo&&(a.__zoomInfo.scale=b);a._syncFillerContainer();c&&a.onZoomChanged()}var e={getZoomInfo:function(a){return l.mixin({},n(a))},setZoomInfo:function(a,b,c){f(a,b,c)},zoomIn:function(a,b){var c=e.getZoomInfo(a);c.scale+=.2;f(a,c,b)},zoomOut:function(a,b){var c=e.getZoomInfo(a);
c.scale-=.2;f(a,c,b)},zoomToFitPage:function(a,b){var c=e.getZoomInfo(a).scale;e.reset(a);var d=e.getZoomInfo(a);d.scale=e._getFitPageScale(d.originalW,d.originalH,a);f(a,d,b,c)},zoomToFitPageWidth:function(a,b){var c=e.getZoomInfo(a).scale;e.reset(a);var d=e.getZoomInfo(a);d.scale=e._getFitPageWidthScale(d.originalW,a);f(a,d,b,c)},_getFitPageScale:function(a,b,c){c=c.getCurrentPageDim();return Math.min(a/(c.w+30),b/(c.h+30))},_getFitPageWidthScale:function(a,b){return a/(b.getCurrentPageDim().w+
30)},setZoomPercent:function(a,b,c){var d=e.getZoomInfo(a);d.scale=b/100;f(a,d,c)},setBestZoom:function(a){var b=e.getZoomInfo(a),c=a.getCurrentPageDim();(b.originalW<c.w||b.originalH<c.h)&&e.zoomToFitPage(a)},reset:function(a){f(a,null)}};return e});