// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.25/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/supportClasses/templateJsonUtils/fieldInfo/_FieldInfoDataRenderer",["esri/dijit/geoenrichment/ReportPlayer/config","../../conditionalStyling/ConditionalStyleUtil","esri/dijit/geoenrichment/utils/ObjectUtil","../../../../dataProvider/supportClasses/AreaDataUtil","dojo/i18n!esri/nls/jsapi"],function(h,k,l,m,f){f=f.geoenrichment.dijit.ReportPlayer.ReportPlayer;var d={getValueFromFieldData:function(b,a){a=a||{};var c={value:null,formattedValue:null,isUnavailableData:!1,
conditionalStyle:null};c.value=a=d.getFieldDataValue(b,a.fieldData,a.featureIndex);var g="esriFieldTypeString"!==b.type&&(b.hasVariable||b.script),e=Number(a);void 0===a||"number"===typeof a&&isNaN(a)||"NaN"===a||"null"===a||g&&""===a||g&&isNaN(e)?(console.log("Error: can't calculate value for \x3d\x3e "+b.name),c.value=NaN,c.formattedValue=h.tables.showUnavailableData?f.unavailableDataShort:"",c.isUnavailableData=!0):g?(c.formattedValue=d._formatValue(e,b),c.formatFunction=function(a){return d._formatValue(a,
b)},b.triggerJson&&(c.conditionalStyle={style:k.getConditionalStyle(e,b.triggerJson),value:e,formattedValue:c.formattedValue})):c.formattedValue=a;return c},_formatValue:function(b,a){return l.formatNumber(b,{places:a.decimals||0,noSeparator:!a.useThousandsSeparator,preserveTrailingZeroes:!0})},getFieldDataValue:function(b,a,c){return b&&m.getAreaDataValue({fieldName:b.templateName||b.name,fieldData:a,featureIndex:c,comparisonIndex:b.comparisonIndex})}};return d});