// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.25/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/dataProvider/supportClasses/AreaDataUtil",["dojo/_base/lang","../../_devConfig"],function(k,p){var h={getAreaDataValue:function(a){function b(a){!1!==n&&(f=a[n]);void 0===f&&(f=a[e])}var e=a.fieldName,c=a.fieldData,d=a.calculatorName,g=a.featureIndex,l=a.comparisonIndex;a=a.ignoreMetadata;if(!p.showAreaDataUtilUndefinedData&&e){var h=!d,g=void 0===g?0:Number(g)||0;if(g=c.areaData[g]){var m=e.indexOf("."),n=!1;-1!==m&&(n=e.substr(m+1));d||-1===m||(d=e.substr(0,
m));var f;(d=g[d])&&(0<=l?b(d.comparisonLevels[l]):b(d.data));if(!h)return f;void 0!==f||a||b(c.metadata);if(void 0===f)for(var k in g)if(d=g[k],0<=l?b(d.comparisonLevels[l]):b(d.data),void 0!==f)break;return f}}},getAreaDataObjectCalculator:function(a,b,e){if(!a)return null;var c=a[b];!c&&e&&(c=a[b]=h.createCalculator());return c},createCalculator:function(a,b){return{data:a||{},comparisonLevels:b||[]}},setAreaDataValue:function(a,b,e,c,d){d=void 0===d?0:Number(d)||0;h.setAreaDataObjectValue(a,b,
e[d],c)},setAreaDataObjectValue:function(a,b,e,c){e&&c&&(h.getAreaDataObjectCalculator(e,c,!0).data[a]=b)},mergeAreaData:function(a,b){b.forEach(function(b,c){(c=a[c])&&h.mergeAreaDataObjects(c,b)})},mergeAreaDataObjects:function(a,b){for(var e in a){var c=a[e],d=b[e];d?c.comparisonLevels.length!==d.comparisonLevels.length?console.log("Error: can't merge calculators with different comparison levels!"):(k.mixin(d.data,c.data),c.comparisonLevels.forEach(function(a,b){k.mixin(d.comparisonLevels[b],a)})):
b[e]=c}console.log("AreaDataUtil.js merging area data \x3d\x3e areaData");console.log(b)}};return h});