// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.25/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/playerSupports/_MapSupport",["dojo/_base/declare","../core/supportClasses/map/MapBuilder"],function(e,f){return e(null,{_mapBuilder:null,_initMapBuilder:function(){this._mapBuilder=new f({renderMapsFromCalculators:this.renderMapsFromCalculators})},collectMaps:function(b){return b&&b.allAreas?this._mapBuilder.collectAllAreasMaps():this._mapBuilder.collectAreaMaps(this.getCurrentAnalysisAreaIndex())},_resetMapBuilder:function(){this._mapBuilder.reset()},
_updateMapPortalUrl:function(){this._mapBuilder.setArcgisUrl(this._reportData&&this._reportData.config.portalUrl)},_setFallbackMapImageInfos:function(b){this._mapBuilder.setFallbackMapImageInfos(b)},getLocatorLayerInfos:function(){return this._mapBuilder.getLocatorLayerInfos()},_setLocatorLayerInfos:function(b){this._mapBuilder.setLocatorLayerInfos(b)},_createMap:function(b,a){a=a||{};var c=this._reportData.analysisAreas[this.getCurrentAnalysisAreaIndex()],d=[c.feature];c.additionalFeatures&&(d=d.concat(c.additionalFeatures));
return this._mapBuilder.createMap(b,{areaName:c.name,features:d,areaIndex:this.getCurrentAnalysisAreaIndex(),defaultBasemapId:this._getDefaultBasemapId()||a.defaultBasemapId,webMapId:a.webMapId,additionalLayerInfos:a.additionalLayerInfos,calculatorFieldName:a.calculatorFieldName,locatorPointsControllers:a.locatorPointsControllers,legendController:a.legendController,fieldData:this._viewModel.dynamicReportInfo.fieldData,geClient:this._viewModel.dynamicReportInfo.geClient,countryID:this._viewModel.dynamicReportInfo.countryID,
waitForLoad:a.waitForLoad,extent:a.extent})},_getDefaultBasemapId:function(){return null}})});